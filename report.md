# Aderyn Analysis Report

This report was generated by [Aderyn](https://github.com/Cyfrin/aderyn), a static analysis tool built by [Cyfrin](https://cyfrin.io), a blockchain security company. This report is not a substitute for manual audit or security review. It should not be relied upon for any purpose other than to assist in the identification of potential security vulnerabilities.
# Table of Contents

- [Summary](#summary)
  - [Files Summary](#files-summary)
  - [Files Details](#files-details)
  - [Issue Summary](#issue-summary)
- [Low Issues](#low-issues)
  - [L-1: Centralization Risk for trusted owners](#l-1-centralization-risk-for-trusted-owners)
  - [L-2: `public` functions not used internally could be marked `external`](#l-2-public-functions-not-used-internally-could-be-marked-external)
  - [L-3: Modifiers invoked only once can be shoe-horned into the function](#l-3-modifiers-invoked-only-once-can-be-shoe-horned-into-the-function)
  - [L-4: Inconsistency in declaring uint256/uint (or) int256/int variables within a contract. Use explicit size declarations (uint256 or int256).](#l-4-inconsistency-in-declaring-uint256uint-or-int256int-variables-within-a-contract-use-explicit-size-declarations-uint256-or-int256)
  - [L-5: Unused Custom Error](#l-5-unused-custom-error)
  - [L-6: Unused Imports](#l-6-unused-imports)
  - [L-7: State variable changes but no event is emitted.](#l-7-state-variable-changes-but-no-event-is-emitted)
  - [L-8: State variable could be declared immutable](#l-8-state-variable-could-be-declared-immutable)


# Summary

## Files Summary

| Key | Value |
| --- | --- |
| .sol Files | 2 |
| Total nSLOC | 97 |


## Files Details

| Filepath | nSLOC |
| --- | --- |
| src/Stable.sol | 74 |
| src/Utils.sol | 23 |
| **Total** | **97** |


## Issue Summary

| Category | No. of Issues |
| --- | --- |
| High | 0 |
| Low | 8 |


# Low Issues

## L-1: Centralization Risk for trusted owners

Contracts have owners with privileged rights to perform admin tasks and need to be trusted to not perform malicious updates or drain funds.

<details><summary>1 Found Instances</summary>


- Found in src/Stable.sol [Line: 85](src/Stable.sol#L85)

	```solidity
	    function whitelistTokens(address _token) external onlyOwner {
	```

</details>



## L-2: `public` functions not used internally could be marked `external`

Instead of marking a function as `public`, consider marking it as `external` if it is not used internally.

<details><summary>3 Found Instances</summary>


- Found in src/Stable.sol [Line: 92](src/Stable.sol#L92)

	```solidity
	    function isWhitelisted(address _token) public view returns(bool) {
	```

- Found in src/Stable.sol [Line: 96](src/Stable.sol#L96)

	```solidity
	    function getTotalBalance(address _asset) public view returns(uint256) {
	```

- Found in src/Stable.sol [Line: 100](src/Stable.sol#L100)

	```solidity
	    function getUserBalance(address _user, address _asset) public view returns (uint256) {
	```

</details>



## L-3: Modifiers invoked only once can be shoe-horned into the function



<details><summary>2 Found Instances</summary>


- Found in src/Utils.sol [Line: 12](src/Utils.sol#L12)

	```solidity
	    modifier onlyOwner() {
	```

- Found in src/Utils.sol [Line: 19](src/Utils.sol#L19)

	```solidity
	    modifier nonReentrant {
	```

</details>



## L-4: Inconsistency in declaring uint256/uint (or) int256/int variables within a contract. Use explicit size declarations (uint256 or int256).

Consider keeping the naming convention consistent in a given contract. Explicit size declarations are preferred (uint256, int256) over implicit ones (uint, int) to avoid confusion.

<details><summary>1 Found Instances</summary>


- Found in src/Stable.sol [Line: 56](src/Stable.sol#L56)

	```solidity
	    function withdraw(address _asset, uint _amount) external nonReentrant {
	```

</details>



## L-5: Unused Custom Error

it is recommended that the definition be removed when custom error is unused

<details><summary>1 Found Instances</summary>


- Found in src/Stable.sol [Line: 20](src/Stable.sol#L20)

	```solidity
	    error StopDoingWeirdStuff();
	```

</details>



## L-6: Unused Imports

Redundant import statement. Consider removing it.

<details><summary>1 Found Instances</summary>


- Found in src/Stable.sol [Line: 8](src/Stable.sol#L8)

	```solidity
	import {SafeCast} from "@openzeppelin/contracts/utils/math/SafeCast.sol";
	```

</details>



## L-7: State variable changes but no event is emitted.

State variable changes in this function but no event is emitted.

<details><summary>3 Found Instances</summary>


- Found in src/Stable.sol [Line: 40](src/Stable.sol#L40)

	```solidity
	    function deposit(address _asset, uint256 _amount) external payable {
	```

- Found in src/Stable.sol [Line: 56](src/Stable.sol#L56)

	```solidity
	    function withdraw(address _asset, uint _amount) external nonReentrant {
	```

- Found in src/Stable.sol [Line: 85](src/Stable.sol#L85)

	```solidity
	    function whitelistTokens(address _token) external onlyOwner {
	```

</details>



## L-8: State variable could be declared immutable

State variables that are should be declared immutable to save gas. Add the `immutable` attribute to state variables that are only changed in the constructor

<details><summary>1 Found Instances</summary>


- Found in src/Utils.sol [Line: 10](src/Utils.sol#L10)

	```solidity
	    address owner;
	```

</details>



